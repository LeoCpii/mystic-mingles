import React from 'react';

import type { CardOptions, Species, ActiveParts } from '@mingles/business';

import background from '@/utils/species-card-colors';

import './Card.scss';

function Stun() {
    return (
        <path id="Stun_00000150813945167329546600000008032402291539617956_" className="secondary" d="M126.45,305.74c-4.25,0-7.7,3.45-7.7,7.7
				c0,4.25,3.45,7.7,7.7,7.7c3.04,0,5.5-2.46,5.5-5.5s-2.46-5.5-5.5-5.5c-1.82,0-3.3,1.48-3.3,3.3c0,1.82,1.48,3.3,3.3,3.3
				c0.61,0,1.1-0.49,1.1-1.1s-0.49-1.1-1.1-1.1c-0.61,0-1.1-0.49-1.1-1.1c0-0.61,0.49-1.1,1.1-1.1c1.82,0,3.3,1.48,3.3,3.3
				c0,1.82-1.48,3.3-3.3,3.3c-3.04,0-5.5-2.46-5.5-5.5c0-3.04,2.46-5.5,5.5-5.5c4.25,0,7.7,3.45,7.7,7.7s-3.45,7.7-7.7,7.7
				c-5.47,0-9.9-4.43-9.9-9.9c0-0.61-0.49-1.1-1.1-1.1c-0.61,0-1.1,0.49-1.1,1.1c0,6.68,5.41,12.09,12.09,12.09
				c5.47,0,9.9-4.43,9.9-9.9C136.35,310.17,131.92,305.74,126.45,305.74z"/>
    );
}

function Poison() {
    return (
        <path id="Poison_00000139267461624532495250000017029175431394424197_" className="secondary" d="M121,315.94
				c0.11,0.36,0.23,0.73,0.28,1.11c0.02,0.15,0.11,1.27,0.16,1.88c0.02,0.23,0.2,0.43,0.43,0.46l0.81,0.12
				c0.12,0.02,0.21,0.11,0.23,0.22l0.11,0.55c0.05,0.24,0.26,0.41,0.5,0.41l6.31,0c0.24,0,0.44-0.17,0.5-0.4l0.12-0.56
				c0.03-0.11,0.12-0.2,0.23-0.21l0.99-0.14c0.24-0.03,0.42-0.23,0.43-0.47c0.04-0.63,0.11-1.78,0.13-1.93
				c0.05-0.37,0.16-0.74,0.27-1.09c0.15-0.5,0.3-1.01,0.3-1.55c0-3.42-2.72-6.21-6.07-6.21c-3.34,0-6.07,2.79-6.07,6.21
				C120.68,314.88,120.84,315.42,121,315.94L121,315.94z M127.53,315.62c0.04-0.97,0.91-1.22,1.88-1.18
				c0.97,0.04,1.68,0.35,1.64,1.32s-0.86,1.73-1.83,1.69C128.25,317.41,127.5,316.59,127.53,315.62L127.53,315.62z M126.96,317.53
				l0.63,0.93c0.06,0.08,0.06,0.19,0.02,0.28l-0.09,0.19c-0.05,0.1-0.15,0.16-0.25,0.16h-1.08c-0.11,0-0.21-0.06-0.25-0.16
				l-0.09-0.19c-0.04-0.09-0.04-0.2,0.02-0.28l0.63-0.93C126.61,317.36,126.85,317.36,126.96,317.53L126.96,317.53z M124.07,314.44
				c0.97-0.04,1.84,0.21,1.88,1.18s-0.72,1.79-1.69,1.83s-1.79-0.72-1.83-1.69C122.39,314.79,123.1,314.48,124.07,314.44z
				 M134.65,307.22c0.08-0.46-0.07-0.96-0.43-1.31c-0.58-0.57-1.52-0.58-2.11-0.02c-0.62,0.59-0.62,1.56-0.03,2.16l-0.55,0.55
				c-0.22,0.22-0.22,0.58,0,0.8l0.94,0.94c0.22,0.22,0.58,0.22,0.8,0l0.55-0.55c0.6,0.6,1.57,0.59,2.16-0.03
				c0.56-0.59,0.55-1.53-0.02-2.11C135.61,307.28,135.12,307.14,134.65,307.22z M119.71,309.78l0.55,0.55c0.22,0.22,0.58,0.22,0.8,0
				l0.94-0.94c0.22-0.22,0.22-0.58,0-0.8l-0.55-0.55c0.6-0.6,0.59-1.57-0.03-2.16c-0.59-0.56-1.53-0.55-2.11,0.02
				c-0.36,0.36-0.5,0.85-0.43,1.31c-0.46-0.08-0.96,0.07-1.31,0.43c-0.57,0.58-0.58,1.52-0.02,2.11
				C118.14,310.37,119.11,310.38,119.71,309.78z M135.99,320.27c-0.59-0.62-1.56-0.62-2.16-0.03l-0.55-0.55
				c-0.22-0.22-0.58-0.22-0.8,0l-0.94,0.94c-0.22,0.22-0.22,0.58,0,0.8l0.55,0.55c-0.6,0.6-0.59,1.57,0.03,2.16
				c0.59,0.56,1.53,0.55,2.11-0.02c0.36-0.36,0.5-0.85,0.43-1.31c0.46,0.08,0.96-0.07,1.31-0.43
				C136.54,321.8,136.55,320.85,135.99,320.27L135.99,320.27z M118.89,322.8c-0.08,0.46,0.07,0.96,0.43,1.31
				c0.58,0.57,1.52,0.58,2.11,0.02c0.62-0.59,0.62-1.56,0.03-2.16l0.55-0.55c0.22-0.22,0.22-0.58,0-0.8l-0.94-0.94
				c-0.22-0.22-0.58-0.22-0.8,0l-0.55,0.55c-0.6-0.6-1.57-0.59-2.16,0.03c-0.56,0.59-0.55,1.53,0.02,2.11
				C117.93,322.73,118.42,322.87,118.89,322.8z"/>
    );
}

function Effects({ effect }: { effect: CardOptions<Species, ActiveParts>['effect'] }) {
    return (
        <g id="Conditions_00000076580080474353743600000014405334722981683618_">
            {effect === 'stun' && <Stun />}
            {effect === 'poison' && <Poison />}
        </g>
    );
}

export default function Card({ name, attack, cost, description, shield, effect, species }: CardOptions<Species, ActiveParts>) {
    return (
        <svg version="1.1" x="0px" y="0px"
            viewBox="0 0 250 350">
            <defs>
                <pattern id="img1" patternUnits="userSpaceOnUse" width="600" height="450">
                    <image href="https://www.boogdesign.com/examples/svg/daisy-grass-repeating-background.jpg" x="0" y="0" width="600" height="450" />
                </pattern>
            </defs>
            <g id="Card">
                <path fill={background[species]} d="M233.56,350.1H16.44C7.36,350.1,0,342.74,0,333.66V16.55C0,7.46,7.36,0.1,16.44,0.1h217.11
		c9.08,0,16.44,7.36,16.44,16.44v317.11C250,342.74,242.64,350.1,233.56,350.1z"/>
                <g id="Border">
                    <path id="external" className="shadow" d="M233.56,0.1H16.44C7.36,0.1,0,7.46,0,16.55v317.11c0,9.08,7.36,16.44,16.44,16.44h217.11
			c9.08,0,16.44-7.36,16.44-16.44V16.55C250,7.46,242.64,0.1,233.56,0.1z M245,332.32c0,7.06-5.72,12.78-12.78,12.78H17.78
			C10.72,345.1,5,339.38,5,332.32V17.89C5,10.82,10.72,5.1,17.78,5.1h214.43c7.06,0,12.78,5.72,12.78,12.78V332.32z"/>
                    <path id="internal" className="shadow" d="M231.78,7.6H18.22C12.3,7.6,7.5,12.4,7.5,18.32v313.55c0,5.92,4.8,10.72,10.72,10.72h213.55
			c5.92,0,10.72-4.8,10.72-10.72V18.32C242.5,12.4,237.7,7.6,231.78,7.6z M239.86,331.38c0,4.81-3.9,8.72-8.72,8.72H18.57
			c-4.81,0-8.72-3.9-8.72-8.72V18.82c0-4.81,3.9-8.72,8.72-8.72h212.56c4.81,0,8.72,3.9,8.72,8.72V331.38z"/>
                </g>
                <path id="Shape_image" fill="url(#img1)" d="M223.48,201.25H28.92c-4.83,0-8.75-3.92-8.75-8.75v-127c0-4.83,3.92-8.75,8.75-8.75h194.56
		c4.83,0,8.75,3.92,8.75,8.75v127C232.23,197.33,228.31,201.25,223.48,201.25z"/>
                <g id="Damage">
                    <path id="Shape_00000007391783372314003880000003206562627022469763_" className="shadow" d="M80.72,327.51H44.7
			c-5.22,0-9.49-4.27-9.49-9.49V312c0-5.22,4.27-9.49,9.49-9.49h36.03c5.22,0,9.49,4.27,9.49,9.49v6.02
			C90.21,323.24,85.94,327.51,80.72,327.51z"/>
                    <path id="icon_00000179624809326058733090000011342309855984127927_" className="secondary" d="M55.42,306.54
			c-0.15-0.14-0.35-0.21-0.55-0.19l-4.11,0.43c-0.18,0.01-0.33,0.1-0.44,0.22l-6.61,7.58l-1.08-1.08c-0.26-0.26-0.69-0.27-0.96,0
			c0,0,0,0,0,0c-0.82,0.81-0.82,2.14-0.01,2.95c0,0,0.01,0.01,0.01,0.01l0.85,0.85l-2.74,2.74c-0.6,0.59-0.6,1.56-0.01,2.16
			c0,0,0,0,0.01,0.01c0.6,0.59,1.56,0.59,2.16,0l2.74-2.74l0.94,0.95c0.82,0.82,2.14,0.82,2.96,0c0.27-0.27,0.27-0.7,0-0.97
			l-1.21-1.21l7.58-6.61c0.13-0.11,0.21-0.27,0.22-0.44l0.44-4.1C55.64,306.89,55.56,306.69,55.42,306.54z"/>
                </g>
                <g id="Shield">
                    <path id="Shape_00000109709377237955508150000013748954057997251977_" className="shadow" d="M208.84,327.51h-36.03
			c-5.22,0-9.49-4.27-9.49-9.49V312c0-5.22,4.27-9.49,9.49-9.49h36.03c5.22,0,9.49,4.27,9.49,9.49v6.02
			C218.33,323.24,214.06,327.51,208.84,327.51z"/>
                    <path id="icon" className="secondary" d="M181.92,308.99l-6.2-1.86c-0.09-0.03-0.18-0.03-0.27,0l-6.2,1.86c-0.2,0.06-0.33,0.24-0.33,0.44
			v6.82c0,0.89,0.36,1.79,1.07,2.7c0.54,0.69,1.29,1.38,2.22,2.06c1.57,1.14,3.12,1.83,3.18,1.86c0.12,0.05,0.26,0.05,0.38,0
			c0.07-0.03,1.61-0.73,3.18-1.86c0.93-0.68,1.68-1.37,2.22-2.06c0.71-0.9,1.07-1.81,1.07-2.7v-6.82
			C182.25,309.23,182.12,309.05,181.92,308.99z"/>
                </g>
                <g id="Condition">
                    <circle id="Shape_00000072963676256169688450000001230975860723872658_" className="shadow" cx="126.43" cy="315.01" r="19" />
                    <g id="Conditions_00000076580080474353743600000014405334722981683618_">
                        <Effects effect={effect} />
                    </g>
                </g>
                <path className="shadow" d="M224.72,208.67H30.16c-4.83,0-8.75,3.92-8.75,8.75v88.84c0,4.83,3.92,8.75,8.75,8.75h2.55v-3
		c0-6.6,5.4-12,12-12h36c6.6,0,12,5.4,12,12v3h12.22c0-11.87,9.63-21.5,21.5-21.5c11.87,0,21.5,9.63,21.5,21.5h12.9v-3
		c0-6.6,5.4-12,12-12h36c6.6,0,12,5.4,12,12v3h3.89c4.83,0,8.75-3.92,8.75-8.75v-88.84C233.47,212.59,229.55,208.67,224.72,208.67z"
                />
                <g id="Title_00000083073225218591225070000006972355778681359276_">
                    <path className="shadow" d="M223.63,19.35H48.87c-3.46-3.1-7.99-5-12.97-5c-10.85,0-19.65,8.95-19.65,20s8.8,20,19.65,20
			c4.98,0,9.51-1.9,12.97-5h174.77c4.75,0,8.6-3.92,8.6-8.75V28.1C232.23,23.27,228.38,19.35,223.63,19.35z M36.24,51.85
			c-9.67,0-17.5-7.84-17.5-17.5s7.83-17.5,17.5-17.5c9.66,0,17.5,7.84,17.5,17.5S45.91,51.85,36.24,51.85z"/>
                    <circle className="shadow" cx="36.24" cy="34.35" r="15" />
                </g>
                <text transform="matrix(1 0 0 1 85.0651 41.7022)" className="secondary title">{name}</text>
                <text transform="matrix(1 0 0 1 29.8156 44.0484)" className="secondary cost">{cost}</text>
                <text id="Damage-Text" transform="matrix(1 0 0 1 60.3877 321.3079)" className="secondary text">{attack}</text>
                <text id="Shield-Text" transform="matrix(1 0 0 1 188.1714 321.3079)" className="secondary text">{shield}</text>
                <text transform="matrix(1 0 0 1 27.8286 229.9775)" className="secondary description">
                    {
                        description.split('<br/>').map((phrase, i) =>
                            <tspan key={phrase} x="0" dy={`${i ? 1.2 : 0}em`}>{phrase}</tspan>
                        )
                    }
                </text>
            </g>
        </svg>
    );
}